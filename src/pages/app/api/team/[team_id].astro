---
export const partial = true

import { deleteTeam } from '@data/pocketbase'

const { team_id = '' } = Astro.params

if (Astro.request.method === 'DELETE') {
  await deleteTeam(Astro.locals.pb, team_id)

  return new Response(null, {
    status: 204,
    statusText: 'No Content',
    headers: {
      'HX-Redirect': '/app/dashboard',
    },
  })
}
---
